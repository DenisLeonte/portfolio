---
import TemplateLayout from '../../layouts/TemplateLayout.astro';
import TemplateDemoBar from '../../components/showcase/TemplateDemoBar.astro';
import '../../styles/showcase/ecommerce.css';
---

<TemplateLayout title="Luxe Store" description="Sleek e-commerce product showcase template with interactive galleries, cart UI, and modern minimalist design.">
  <link slot="head" rel="preconnect" href="https://fonts.googleapis.com" />
  <link slot="head" rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link slot="head" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" />

  <TemplateDemoBar templateName="Luxe Store" slug="ecommerce" />

  <!-- Navigation -->
  <nav class="ec-nav">
    <div class="container">
      <div class="ec-nav__inner">
        <div class="ec-nav__logo">LUXE<span>.</span>STORE</div>
        <ul class="ec-nav__links">
          <li><a href="#products">New In</a></li>
          <li><a href="#categories">Collections</a></li>
          <li><a href="#spotlight">Featured</a></li>
          <li><a href="#">Sale</a></li>
        </ul>
        <div class="ec-nav__icons">
          <button class="ec-icon-btn" aria-label="Search">
            <svg width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
          </button>
          <button class="ec-icon-btn" aria-label="Wishlist">
            <svg width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
          </button>
          <button class="ec-icon-btn" id="cart-nav-btn" aria-label="Cart (0 items)">
            <svg width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section class="ec-hero" id="hero">
    <div class="container">
      <div class="ec-hero__inner">
        <div class="reveal">
          <p class="ec-hero__label">New Collection — SS 2025</p>
          <h1 class="ec-hero__title">The Art of Understated Luxury</h1>
          <p class="ec-hero__desc">Curated pieces crafted from the finest materials. Designed to last, built to impress.</p>
          <div class="ec-hero__price">
            €289 <span>€420</span>
          </div>
          <div class="ec-hero__actions">
            <button class="ec-btn ec-btn--cart" id="hero-cart-btn" type="button">Add to Cart</button>
            <button class="ec-btn ec-btn--outline" type="button">View Details</button>
          </div>
        </div>
        <div class="ec-hero__image reveal">
          <img src="/images/luxe-showcase/dress1.jpg" alt="Featured collection dress" fetchpriority="high" />
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Products -->
  <section class="ec-products" id="products">
    <div class="container">
      <div class="ec-section-header reveal">
        <p class="ec-section-label">New Arrivals</p>
        <h2 class="ec-section-title">Fresh Off the Rack</h2>
      </div>
      <div class="ec-products__grid">
        {[
          { name: 'Silk Maxi Dress', cat: 'Dresses', price: '€345', badge: 'New', img: '/images/luxe-showcase/silk-dress.jpg' },
          { name: 'Wool Blazer Set', cat: 'Separates', price: '€520', badge: 'Bestseller', img: '/images/luxe-showcase/wool-blazer.jpg' },
          { name: 'Leather Tote', cat: 'Accessories', price: '€195', badge: 'Limited', img: '/images/luxe-showcase/leather-tote.jpg' },
        ].map((p) => (
          <article class="ec-product-card reveal">
            <div class="ec-product-card__img-wrap">
              <div class="ec-product-card__img">
                <img src={p.img} alt={p.name} loading="lazy" />
              </div>
              <span class="ec-product-card__badge">{p.badge}</span>
            </div>
            <div class="ec-product-card__name">{p.name}</div>
            <div class="ec-product-card__category">{p.cat}</div>
            <div class="ec-product-card__footer">
              <span class="ec-product-card__price">{p.price}</span>
              <button class="ec-btn ec-btn--outline" style="padding:7px 14px;font-size:0.72rem;" type="button">+ Cart</button>
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Spotlight -->
  <section class="ec-spotlight" id="spotlight">
    <div class="container">
      <div class="ec-spotlight__inner">
        <div class="ec-spotlight__image reveal">
          <img src="/images/luxe-showcase/heel.jpg" alt="The Statement Heel" loading="lazy" />
        </div>
        <div class="reveal">
          <p class="ec-section-label">Editor's Pick</p>
          <h2 class="ec-section-title" style="margin-bottom:16px;">The Statement Heel</h2>
          <p style="color:var(--ec-text-muted);line-height:1.75;margin-bottom:24px;">
            Sculpted from a single piece of Italian leather, this heel is the culmination of decades of craft. Every stitch
            placed by hand. Every curve considered.
          </p>
          <ul class="ec-spotlight__features">
            <li>Hand-stitched Italian leather upper</li>
            <li>Cushioned leather insole</li>
            <li>Solid brass hardware details</li>
            <li>Comes in 4 colourways</li>
            <li>Made-to-order available</li>
            <li>Free global shipping</li>
          </ul>
          <div style="display:flex;gap:12px;flex-wrap:wrap;">
            <button class="ec-btn ec-btn--cart" type="button">Add to Cart — €465</button>
            <button class="ec-btn ec-btn--outline" type="button">Size Guide</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Categories -->
  <section class="ec-categories" id="categories">
    <div class="container">
      <div class="ec-section-header reveal">
        <p class="ec-section-label">Browse</p>
        <h2 class="ec-section-title">Shop by Category</h2>
      </div>
      <div class="ec-categories__grid">
        {[
          { name: 'Dresses', img: 'https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=600&h=800&fit=crop&q=80' },
          { name: 'Outerwear', img: 'https://images.unsplash.com/photo-1539109136881-3be0616acf4b?w=600&h=800&fit=crop&q=80' },
          { name: 'Accessories', img: 'https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=600&h=800&fit=crop&q=80' },
          { name: 'Footwear', img: 'https://images.unsplash.com/photo-1543163521-1bf539c55dd2?w=600&h=800&fit=crop&q=80' },
        ].map((cat) => (
          <div class="ec-category-card reveal">
            <div class="ec-category-card__bg">
              <img src={cat.img} alt={cat.name} loading="lazy" />
            </div>
            <div class="ec-category-card__overlay">
              <div class="ec-category-card__name">{cat.name}</div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Newsletter -->
  <section class="ec-newsletter">
    <div class="container">
      <h2 class="ec-newsletter__title">Exclusive Access Awaits</h2>
      <p class="ec-newsletter__sub">Join our inner circle. First access to new collections, private sales, and styling notes.</p>
      <form class="ec-newsletter__form" onsubmit="return false;" aria-label="Newsletter signup (demo)">
        <input class="ec-newsletter__input" type="email" placeholder="Your email address" aria-label="Email address" />
        <button class="ec-newsletter__submit" type="submit">Subscribe</button>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer class="ec-footer">
    <div class="container">
      <div class="ec-footer__grid">
        <div>
          <div class="ec-footer__logo">LUXE<span>.</span>STORE</div>
          <p class="ec-footer__desc">Timeless luxury for the discerning individual. Crafted with intention, worn with confidence.</p>
        </div>
        <div>
          <h4 class="ec-footer__heading">Shop</h4>
          <ul class="ec-footer__list">
            <li><a href="#">New In</a></li>
            <li><a href="#">Dresses</a></li>
            <li><a href="#">Accessories</a></li>
            <li><a href="#">Sale</a></li>
          </ul>
        </div>
        <div>
          <h4 class="ec-footer__heading">Help</h4>
          <ul class="ec-footer__list">
            <li><a href="#">Size Guide</a></li>
            <li><a href="#">Shipping</a></li>
            <li><a href="#">Returns</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </div>
        <div>
          <h4 class="ec-footer__heading">About</h4>
          <ul class="ec-footer__list">
            <li><a href="#">Our Story</a></li>
            <li><a href="#">Sustainability</a></li>
            <li><a href="#">Press</a></li>
            <li><a href="#">Careers</a></li>
          </ul>
        </div>
      </div>
      <div class="ec-footer__bottom">
        <span>© 2025 Luxe Store. All rights reserved.</span>
        <span>Designed for demonstration purposes.</span>
      </div>
    </div>
  </footer>

  <!-- Portfolio coda -->
  <div class="ec-coda">
    <span>Template built by</span>
    <a href="/">Leonte Denis</a>
    <span class="ec-coda__sep">·</span>
    <a href="/">View Portfolio</a>
    <span class="ec-coda__sep">·</span>
    <a href="/#contact">Get In Touch</a>
  </div>
</TemplateLayout>

<script>
  // Scroll reveal
  const revealElements = document.querySelectorAll('.reveal');
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.1, rootMargin: '0px 0px -40px 0px' }
  );
  revealElements.forEach((el) => observer.observe(el));

  // Cart button pulse animation
  document.querySelectorAll('.ec-btn--cart').forEach((btn) => {
    btn.addEventListener('click', () => {
      btn.classList.remove('pulse');
      void (btn as HTMLElement).offsetWidth; // reflow
      btn.classList.add('pulse');
      setTimeout(() => btn.classList.remove('pulse'), 500);
    });
  });
</script>
