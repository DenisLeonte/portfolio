---
import TemplateLayout from '../../layouts/TemplateLayout.astro';
import TemplateDemoBar from '../../components/showcase/TemplateDemoBar.astro';
import '../../styles/showcase/realestate.css';
---

<TemplateLayout title="Horizon Homes" description="Property listing showcase template with image carousels, neighborhood sections, and elegant property detail layouts.">
  <link slot="head" rel="preconnect" href="https://fonts.googleapis.com" />
  <link slot="head" rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link slot="head" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Nunito+Sans:wght@300;400;600;700;800&display=swap" />

  <TemplateDemoBar templateName="Horizon Homes" slug="realestate" />

  <!-- Nav -->
  <nav class="re-nav">
    <div class="container">
      <div class="re-nav__inner">
        <div class="re-nav__logo">Horizon<span>Homes</span></div>
        <ul class="re-nav__links">
          <li><a href="#listings">Buy</a></li>
          <li><a href="#spotlight">Spotlight</a></li>
          <li><a href="#neighborhoods">Areas</a></li>
          <li><a href="#cta">Sell</a></li>
        </ul>
        <div class="re-nav__actions">
          <a href="#cta" class="re-btn re-btn--outline">Sign In</a>
          <a href="#listings" class="re-btn re-btn--primary">Find a Home</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section class="re-hero">
    <img class="re-hero__photo" src="/images/horizon_homes_showcase/main-bg.jpg" alt="" aria-hidden="true" fetchpriority="high" />
    <div class="re-hero__bg-overlay"></div>
    <div class="re-hero__content">
      <div class="container">
        <p class="re-hero__label">Premier Property Specialists</p>
        <h1 class="re-hero__title">Find Your Perfect Home</h1>
        <p class="re-hero__sub">Exclusive listings across the most sought-after neighbourhoods. Let us guide you home.</p>

        <!-- Search bar -->
        <div class="re-search-bar">
          <div class="re-search-field">
            <label for="sb-location">Location</label>
            <input id="sb-location" type="text" placeholder="City, postcode, or area" />
          </div>
          <div class="re-search-field">
            <label for="sb-type">Property Type</label>
            <select id="sb-type">
              <option>Any Type</option>
              <option>Apartment</option>
              <option>House</option>
              <option>Villa</option>
              <option>Studio</option>
            </select>
          </div>
          <div class="re-search-field">
            <label for="sb-price">Price Range</label>
            <select id="sb-price">
              <option>Any Price</option>
              <option>Up to ‚Ç¨300k</option>
              <option>‚Ç¨300k ‚Äì ‚Ç¨600k</option>
              <option>‚Ç¨600k ‚Äì ‚Ç¨1M</option>
              <option>‚Ç¨1M+</option>
            </select>
          </div>
          <button class="re-btn re-btn--primary" type="button" style="flex-shrink:0;">Search</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Listings -->
  <section class="re-listings" id="listings">
    <div class="container">
      <div class="re-section-header reveal">
        <p class="re-section-label">New to Market</p>
        <h2 class="re-section-title">Featured Listings</h2>
        <div class="re-section-divider"></div>
      </div>
      <div class="re-listings__grid">
        {[
          { name: 'The Oaks Residence', loc: 'Kensington, London', price: '‚Ç¨1,850,000', beds: 4, baths: 3, sqft: '2,840', badge: 'New', img: '/images/horizon_homes_showcase/the-oaks.jpg' },
          { name: 'Harbour View Penthouse', loc: 'Canary Wharf, London', price: '‚Ç¨3,200,000', beds: 3, baths: 2, sqft: '1,960', badge: 'Featured', img: '/images/horizon_homes_showcase/penthouse.jpg' },
          { name: 'Garden Flat ‚Äî Camden', loc: 'Camden, London', price: '‚Ç¨645,000', beds: 2, baths: 1, sqft: '890', badge: 'Reduced', img: 'https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop&q=80' },
        ].map((p) => (
          <article class="re-property-card reveal">
            <div class="re-property-card__img-wrap">
              <div class="re-property-card__img">
                <img src={p.img} alt={p.name} loading="lazy" />
              </div>
              <span class="re-property-card__badge">{p.badge}</span>
            </div>
            <div class="re-property-card__body">
              <h3 class="re-property-card__name">{p.name}</h3>
              <div class="re-property-card__location">üìç {p.loc}</div>
              <div class="re-property-card__price">{p.price}</div>
              <div class="re-property-card__specs">
                <span class="re-spec">üõè {p.beds} beds</span>
                <span class="re-spec">üõÅ {p.baths} baths</span>
                <span class="re-spec">üìê {p.sqft} ft¬≤</span>
              </div>
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Property Spotlight + Carousel -->
  <section class="re-spotlight" id="spotlight">
    <div class="container">
      <div class="re-section-header reveal">
        <p class="re-section-label">This Week's Star</p>
        <h2 class="re-section-title">Property Spotlight</h2>
        <div class="re-section-divider"></div>
      </div>
      <div class="re-spotlight__inner">
        <!-- Carousel -->
        <div class="re-carousel reveal">
          <div class="re-carousel__track" id="carousel-track">
            {[
              { img: 'https://images.unsplash.com/photo-1583608205776-bfd35f0d9f83?w=1200&h=750&fit=crop&q=80', alt: 'Property exterior' },
              { img: 'https://images.unsplash.com/photo-1600210492493-0946911123ea?w=1200&h=750&fit=crop&q=80', alt: 'Living room' },
              { img: 'https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=1200&h=750&fit=crop&q=80', alt: 'Private garden' },
            ].map((slide) => (
              <div class="re-carousel__slide">
                <img src={slide.img} alt={slide.alt} loading="lazy" />
              </div>
            ))}
          </div>
          <div class="re-carousel__controls">
            <button class="re-carousel__btn" id="prev-btn" aria-label="Previous image">‚Äπ</button>
            <div class="re-carousel__dots">
              <button class="re-carousel__dot active" data-index="0" aria-label="Image 1"></button>
              <button class="re-carousel__dot" data-index="1" aria-label="Image 2"></button>
              <button class="re-carousel__dot" data-index="2" aria-label="Image 3"></button>
            </div>
            <button class="re-carousel__btn" id="next-btn" aria-label="Next image">‚Ä∫</button>
          </div>
        </div>

        <!-- Details panel -->
        <div class="re-spotlight__details reveal">
          <div class="re-spotlight__price">‚Ç¨4,750,000</div>
          <div class="re-spotlight__address">14 Belgravia Square, Chelsea, London SW1X 8PH</div>

          <div class="re-spotlight__specs">
            <div class="re-spotlight__spec">
              <div class="re-spotlight__spec-value">5</div>
              <div class="re-spotlight__spec-label">Bedrooms</div>
            </div>
            <div class="re-spotlight__spec">
              <div class="re-spotlight__spec-value">4</div>
              <div class="re-spotlight__spec-label">Bathrooms</div>
            </div>
            <div class="re-spotlight__spec">
              <div class="re-spotlight__spec-value">4,200</div>
              <div class="re-spotlight__spec-label">Sq Ft</div>
            </div>
          </div>

          <ul class="re-spotlight__features">
            <li>Private walled garden</li>
            <li>Roof terrace with views</li>
            <li>Cinema room</li>
            <li>Wine cellar</li>
            <li>Smart home system</li>
            <li>Gated parking</li>
            <li>Period features</li>
            <li>Recently renovated</li>
          </ul>

          <div style="display:flex;gap:12px;flex-wrap:wrap;">
            <a href="#cta" class="re-btn re-btn--primary">Book a Viewing</a>
            <button class="re-btn re-btn--outline" type="button">Download Brochure</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Neighborhoods -->
  <section class="re-neighborhoods" id="neighborhoods">
    <div class="container">
      <div class="re-section-header reveal">
        <p class="re-section-label">Explore</p>
        <h2 class="re-section-title">Prime Neighbourhoods</h2>
        <div class="re-section-divider"></div>
      </div>
      <div class="re-neighborhoods__grid">
        {[
          { name: 'Kensington', sub: '48 properties ¬∑ From ‚Ç¨820k', img: 'https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=800&h=600&fit=crop&q=80' },
          { name: 'Notting Hill', sub: '32 properties ¬∑ From ‚Ç¨650k', img: '/images/horizon_homes_showcase/notting-hill.jpg' },
          { name: 'Chelsea', sub: '61 properties ¬∑ From ‚Ç¨1.1M', img: 'https://images.unsplash.com/photo-1467226632440-65f0b4957563?w=800&h=600&fit=crop&q=80' },
        ].map((n) => (
          <div class="re-neighborhood-card reveal">
            <div class="re-neighborhood-card__bg">
              <img src={n.img} alt={n.name} loading="lazy" />
            </div>
            <div class="re-neighborhood-card__overlay">
              <div class="re-neighborhood-card__name">{n.name}</div>
              <div class="re-neighborhood-card__sub">{n.sub}</div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Trust signals -->
  <section class="re-trust">
    <div class="container">
      <div class="re-trust__grid">
        {[
          { icon: 'üèÜ', title: '20+ Years Experience', text: 'Two decades of navigating London\'s most competitive property market.' },
          { icon: 'ü§ù', title: 'Trusted by 5,000+', text: 'Thousands of families have found their perfect home through Horizon.' },
          { icon: 'üìä', title: 'Market Leaders', text: 'Top 3 agency by transaction volume in prime London for 8 years running.' },
          { icon: 'üîí', title: 'Regulated & Secure', text: 'Fully regulated, RICS-accredited, and committed to transparent dealings.' },
        ].map((t) => (
          <div class="re-trust-item reveal">
            <div class="re-trust-item__icon">{t.icon}</div>
            <div class="re-trust-item__title">{t.title}</div>
            <p class="re-trust-item__text">{t.text}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="re-testimonials">
    <div class="container">
      <div class="re-section-header reveal">
        <p class="re-section-label">Client Stories</p>
        <h2 class="re-section-title">What Our Clients Say</h2>
        <div class="re-section-divider"></div>
      </div>
      <div class="re-testimonials__grid">
        {[
          { text: 'Horizon found us our dream home in six weeks. Professional, patient, and deeply knowledgeable. We wouldn\'t go anywhere else.', author: 'Dr. Claire Hartley', loc: 'Bought in Kensington' },
          { text: 'The team navigated a complex chain with calm expertise. Our sale completed on time and above asking. Exceptional service.', author: 'James & Priya Osei', loc: 'Sold in Chelsea' },
          { text: 'As first-time buyers we were nervous, but Horizon guided us every step. We\'re now settled in our first home ‚Äî couldn\'t be happier.', author: 'Luca Ferretti', loc: 'Bought in Notting Hill' },
        ].map((t) => (
          <div class="re-testimonial reveal">
            <div class="re-testimonial__stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <p class="re-testimonial__text">"{t.text}"</p>
            <div class="re-testimonial__author">{t.author}</div>
            <div class="re-testimonial__location">{t.loc}</div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA Banner -->
  <section class="re-cta" id="cta">
    <div class="container">
      <h2 class="re-cta__title">Ready to Find Your Home?</h2>
      <p class="re-cta__sub">Our property specialists are here to guide you from first search to final key.</p>
      <div class="re-cta__actions">
        <a href="/#contact" class="re-btn re-btn--white">Start Your Search</a>
        <button class="re-btn re-btn--ghost" type="button">Book a Consultation</button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="re-footer">
    <div class="container">
      <div class="re-footer__grid">
        <div>
          <div class="re-footer__logo">Horizon<span>Homes</span></div>
          <p class="re-footer__desc">London's most trusted independent estate agency. Residential sales, lettings, and property management across prime postcodes.</p>
        </div>
        <div>
          <h4 class="re-footer__heading">Buy</h4>
          <ul class="re-footer__list">
            <li><a href="#">Property Search</a></li>
            <li><a href="#">New Developments</a></li>
            <li><a href="#">Luxury Homes</a></li>
            <li><a href="#">Investment</a></li>
          </ul>
        </div>
        <div>
          <h4 class="re-footer__heading">Sell</h4>
          <ul class="re-footer__list">
            <li><a href="#">Free Valuation</a></li>
            <li><a href="#">Our Process</a></li>
            <li><a href="#">Recent Sales</a></li>
          </ul>
        </div>
        <div>
          <h4 class="re-footer__heading">Contact</h4>
          <ul class="re-footer__list">
            <li>14 Sloane St, London</li>
            <li>+44 20 7123 4567</li>
            <li><a href="#">hello@horizonhomes.co.uk</a></li>
            <li>Mon‚ÄìFri 9am‚Äì6pm</li>
          </ul>
        </div>
      </div>
      <div class="re-footer__bottom">
        <span>¬© 2025 Horizon Homes Ltd. Registered in England & Wales.</span>
        <span>RICS Regulated ¬∑ PropertyMark Member</span>
      </div>
    </div>
  </footer>

  <!-- Portfolio coda -->
  <div class="re-coda">
    <span>Template built by</span>
    <a href="/">Leonte Denis</a>
    <span class="re-coda__sep">¬∑</span>
    <a href="/">View Portfolio</a>
    <span class="re-coda__sep">¬∑</span>
    <a href="/#contact">Get In Touch</a>
  </div>
</TemplateLayout>

<script>
  // ‚îÄ‚îÄ Image Carousel ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  const track = document.getElementById('carousel-track') as HTMLElement;
  const dots = document.querySelectorAll('.re-carousel__dot');
  let currentSlide = 0;
  const totalSlides = dots.length;

  const goToSlide = (index: number) => {
    currentSlide = (index + totalSlides) % totalSlides;
    const slideWidth = track?.firstElementChild ? (track.firstElementChild as HTMLElement).offsetWidth : 0;
    track?.scrollTo({ left: currentSlide * slideWidth, behavior: 'smooth' });
    dots.forEach((dot, i) => {
      dot.classList.toggle('active', i === currentSlide);
    });
  };

  document.getElementById('prev-btn')?.addEventListener('click', () => goToSlide(currentSlide - 1));
  document.getElementById('next-btn')?.addEventListener('click', () => goToSlide(currentSlide + 1));

  dots.forEach((dot, i) => {
    dot.addEventListener('click', () => goToSlide(i));
  });

  // Auto-advance
  let autoplay = setInterval(() => goToSlide(currentSlide + 1), 4000);
  track?.addEventListener('mouseenter', () => clearInterval(autoplay));
  track?.addEventListener('mouseleave', () => {
    autoplay = setInterval(() => goToSlide(currentSlide + 1), 4000);
  });

  // ‚îÄ‚îÄ Scroll reveal ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  const revealElements = document.querySelectorAll('.reveal');
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.1, rootMargin: '0px 0px -40px 0px' }
  );
  revealElements.forEach((el) => observer.observe(el));
</script>
