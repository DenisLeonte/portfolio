import{j as s}from"./jsx-runtime.TBa3i5EZ.js";import{r as g}from"./index.CVf8TyFT.js";class f{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const T=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},o={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:T()},p=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},P=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=p(e);o.publicKey=r.publicKey,o.blockHeadless=r.blockHeadless,o.storageProvider=r.storageProvider,o.blockList=r.blockList,o.limitRate=r.limitRate,o.origin=r.origin||t},y=async(e,t,r={})=>{const i=await fetch(o.origin+e,{method:"POST",headers:r,body:t}),a=await i.text(),l=new f(i.status,a);if(i.ok)return l;throw l},v=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},F=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},j=e=>e.webdriver||!e.languages||e.languages.length===0,x=()=>new f(451,"Unavailable For Headless Browser"),R=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},L=e=>!e.list?.length||!e.watchVariable,E=(e,t)=>e instanceof FormData?e.get(t):e[t],w=(e,t)=>{if(L(e))return!1;R(e.list,e.watchVariable);const r=E(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},k=()=>new f(403,"Forbidden"),H=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},N=async(e,t,r)=>{const i=Number(await r.get(e)||0);return t-Date.now()+i},_=async(e,t,r)=>{if(!t.throttle||!r)return!1;H(t.throttle,t.id);const i=t.id||e;return await N(i,t.throttle,r)>0?!0:(await r.set(i,Date.now().toString()),!1)},S=()=>new f(429,"Too Many Requests"),V=async(e,t,r,i)=>{const a=p(i),l=a.publicKey||o.publicKey,b=a.blockHeadless||o.blockHeadless,d=a.storageProvider||o.storageProvider,c={...o.blockList,...a.blockList},n={...o.limitRate,...a.limitRate};return b&&j(navigator)?Promise.reject(x()):(v(l,e,t),F(r),r&&w(c,r)?Promise.reject(k()):await _(location.pathname,n,d)?Promise.reject(S()):y("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},K=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},q=e=>typeof e=="string"?document.querySelector(e):e,C=async(e,t,r,i)=>{const a=p(i),l=a.publicKey||o.publicKey,b=a.blockHeadless||o.blockHeadless,d=o.storageProvider||a.storageProvider,c={...o.blockList,...a.blockList},n={...o.limitRate,...a.limitRate};if(b&&j(navigator))return Promise.reject(x());const u=q(r);v(l,e,t),K(u);const m=new FormData(u);return w(c,m)?Promise.reject(k()):await _(location.pathname,n,d)?Promise.reject(S()):(m.append("lib_version","4.4.1"),m.append("service_id",e),m.append("template_id",t),m.append("user_id",l),y("/api/v1.0/email/send-form",m))},I={init:P,send:V,sendForm:C,EmailJSResponseStatus:f},M="service_0oqg5kq",D="template_gshi67b",O="8NZTFNZ0OnMqr4KQT";function J(){const e=g.useRef(null),[t,r]=g.useState("idle"),[i,a]=g.useState({}),l=c=>{const n={},u=c.elements.namedItem("user_name")?.value.trim(),m=c.elements.namedItem("user_email")?.value.trim(),h=c.elements.namedItem("message")?.value.trim();return u||(n.user_name="Name is required."),m?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m)||(n.user_email="Please enter a valid email."):n.user_email="Email is required.",(!h||h.length<10)&&(n.message="Message must be at least 10 characters."),n},b=async c=>{if(c.preventDefault(),!e.current)return;const n=l(e.current);if(Object.keys(n).length>0){a(n);return}a({}),r("sending");try{await I.sendForm(M,D,e.current,{publicKey:O}),r("success"),e.current.reset()}catch(u){console.error("EmailJS error:",u),r("error")}finally{setTimeout(()=>r("idle"),6e3)}},d="form-input w-full ";return s.jsxs("form",{ref:e,onSubmit:b,noValidate:!0,style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"user_name",className:"form-label",children:"// Name"}),s.jsx("input",{id:"user_name",name:"user_name",type:"text",placeholder:"John Doe",className:d,style:{border:i.user_name?"1px solid rgba(255, 80, 80, 0.6)":void 0},disabled:t==="sending",autoComplete:"name"}),i.user_name&&s.jsx("p",{style:{color:"rgba(255,100,100,0.9)",fontSize:"0.75rem",marginTop:"0.4rem",fontFamily:"var(--font-mono)"},children:i.user_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"user_email",className:"form-label",children:"// Email"}),s.jsx("input",{id:"user_email",name:"user_email",type:"email",placeholder:"john@example.com",className:d,style:{border:i.user_email?"1px solid rgba(255, 80, 80, 0.6)":void 0},disabled:t==="sending",autoComplete:"email"}),i.user_email&&s.jsx("p",{style:{color:"rgba(255,100,100,0.9)",fontSize:"0.75rem",marginTop:"0.4rem",fontFamily:"var(--font-mono)"},children:i.user_email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"form-label",children:"// Message"}),s.jsx("textarea",{id:"message",name:"message",rows:6,placeholder:"Tell me about your project or just say hi...",className:d,style:{border:i.message?"1px solid rgba(255, 80, 80, 0.6)":void 0,resize:"vertical",minHeight:"140px"},disabled:t==="sending"}),i.message&&s.jsx("p",{style:{color:"rgba(255,100,100,0.9)",fontSize:"0.75rem",marginTop:"0.4rem",fontFamily:"var(--font-mono)"},children:i.message})]}),s.jsx("button",{type:"submit",disabled:t==="sending"||t==="success",className:"btn-primary",style:{justifyContent:"center",width:"100%",opacity:t==="sending"||t==="success"?.7:1,cursor:t==="sending"||t==="success"?"not-allowed":"pointer"},children:t==="sending"?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{display:"inline-block",width:"14px",height:"14px",border:"2px solid rgba(0,255,65,0.3)",borderTopColor:"#00ff41",borderRadius:"50%",animation:"spin 0.7s linear infinite"}}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{color:"inherit"},children:"./send"}),s.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:"0.75rem",opacity:.7},children:"--message"})]})}),t==="success"&&s.jsx("div",{role:"alert",style:{padding:"0.875rem 1rem",background:"rgba(0, 255, 65, 0.08)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"4px",color:"#00ff41",fontSize:"0.875rem",fontFamily:"var(--font-mono)"},children:"✓ Message sent! I'll get back to you soon."}),t==="error"&&s.jsx("div",{role:"alert",style:{padding:"0.875rem 1rem",background:"rgba(255, 80, 80, 0.08)",border:"1px solid rgba(255, 80, 80, 0.3)",borderRadius:"4px",color:"rgba(255, 120, 120, 0.9)",fontSize:"0.875rem",fontFamily:"var(--font-mono)"},children:"✗ Something went wrong. Try emailing me directly."}),s.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}export{J as default};
