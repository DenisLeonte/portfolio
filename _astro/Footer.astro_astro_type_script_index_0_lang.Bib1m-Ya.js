const r=document.getElementById("navbar"),l=document.getElementById("hamburger"),n=document.getElementById("mobile-menu"),d=document.querySelectorAll(".mobile-nav-link"),a=()=>{window.scrollY>60?r.classList.add("scrolled"):r.classList.remove("scrolled")};window.addEventListener("scroll",a,{passive:!0});a();let o=!1;const i=()=>{o=!o,l.setAttribute("aria-expanded",String(o)),n.setAttribute("aria-hidden",String(!o)),o?(n.style.maxHeight=n.scrollHeight+"px",n.style.opacity="1",r.classList.add("menu-open")):(n.style.maxHeight="0",n.style.opacity="0",r.classList.remove("menu-open"))};l.addEventListener("click",i);window.addEventListener("resize",()=>{o&&window.innerWidth>=768&&i()},{passive:!0});d.forEach(e=>{e.addEventListener("click",()=>{o&&i()})});const u=document.querySelectorAll("section[id]"),m=document.querySelectorAll(".nav-link"),v=new IntersectionObserver(e=>{e.forEach(s=>{s.isIntersecting&&m.forEach(t=>{t.classList.remove("active"),t.getAttribute("href")==="#"+s.target.id&&t.classList.add("active")})})},{rootMargin:"-40% 0px -55% 0px",threshold:0});u.forEach(e=>v.observe(e));document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",s=>{const t=e.getAttribute("href");if(!t||t==="#")return;const c=document.querySelector(t);c?(s.preventDefault(),c.scrollIntoView({behavior:"smooth",block:"start"})):(s.preventDefault(),window.location.href="/"+t)})});document.getElementById("back-to-top")?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
